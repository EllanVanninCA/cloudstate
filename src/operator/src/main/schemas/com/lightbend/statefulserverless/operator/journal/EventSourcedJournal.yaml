$schema: "http://json-schema.org/draft-07/schema#"
description: "An event source journal"
type: object
extends:
  type: object
  existingJavaType: io.radanalytics.operator.common.EntityInfo
properties:
  spec:
    $ref: "#/definitions/JournalSpec"

definitions:

  JournalSpec:
    type: object
    properties:

      replicas:
        type: integer
        minimum: 0

      journal:
        type: object
        properties:
          name:
            type: string
          config:
            type: object

      template:
        type: object
        properties:
          spec:
            $ref: "#/definitions/TemplateSpec"


  TemplateSpec:
    type: object
    properties:
      containers:
        type: array
        items:

  Container:
    type: object
    properties:
      image:
        type: string
      env:
        type: array
        items:
          $ref: "#definitions/EnvVar"

  EnvVar:
    type: object
    properties:
      name:
        type: string
      value:
        type: string
