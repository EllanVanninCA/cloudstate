$schema: "http://json-schema.org/draft-07/schema#"
description: "An event sourced service"
type: object
extends:
  type: object
  existingJavaType: io.radanalytics.operator.common.EntityInfo
properties:
  spec:
    type: object
    properties:

      replicas:
        type: integer
        minimum: 0

      journal:
        type: object
        properties:
          name:
            type: string
          config:
            type: object
        required:
        - name
        additionalProperties: false

      template:
        type: object
        properties:
          spec:
            type: object
            properties:
              containers:
                type: array
                items:
                  type: object
                  properties:
                    image:
                      type: string
                    # todo, other supported container properties
                  required: image
            required:
            - containers

    required:
    - replicas
    - journal
    - template
    additionalProperties: false

  status:
    type: object
    properties:

